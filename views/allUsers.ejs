<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./layouts/head'); %>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

 
  <!-- <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script> -->
</head>
<body class="container">
  <input class="col-sm-10" id="myInput" type="text" placeholder="Search..">
  
  <button class="btn btn-warning btn-lg float-right mb-5"><a href="/add_user">New User</a></button>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>name</th>
        <th>question</th>
        <th>Edit</th>
      </tr>
    </thead>
    <tbody id="myTable">
        <% users.forEach(function (user) { %>

      <tr>
        <td><%= user.name %></td>
        <td><%= user.question %></td>
        <td>
            <button class="btn btn-success"><a href="/update_user?id=<%= user.id %>">update</a></button>
            <button class="btn btn-danger"><a href="/delete_user?id=<%= user.id %>">delete</a></button>
        </td>


      </tr>
      <% }) %>

    </tbody>
  </table>

  <footer>
    <%- include('./layouts/footer'); %>
  </footer>

  <script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#myTable tr").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    </script>
  </body>
  </html>
  